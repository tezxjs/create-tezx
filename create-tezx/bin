#!/usr/bin/env node
var O = Object.defineProperty; var c = (o, s) => O(o, "name", { value: s, configurable: !0 }); import { execSync as j } from "node:child_process"; import { mkdirSync as v, writeFileSync as h } from "node:fs"; import k, { join as g, resolve as A } from "node:path"; import T from "node:readline"; const d = c((o, s) => ({ version: s, npm: ["npm install", o], bun: ["bun add", o], yarn: ["yarn add", o], pnpm: ["pnpm add", o] }), "packageManagerCommands"), I = {
  readme: `
# \u{1F510} GitHub OAuth2 Example for TezX

This example demonstrates how to implement GitHub OAuth2 login using \`@tezx/github-oauth2\`.

---

## \u{1F680} Features

- \u{1F510} Redirects users to GitHub for login
- \u{1F4E5} Handles GitHub's OAuth2 callback
- \u{1F9D1} Retrieves user profile and creates session
- \u2699\uFE0F Easy to integrate with any TezX backend

---

## \u{1F527} Setup

### 1. Install the required package

\`\`\`bash
${Object.values(d("@tezx/github-oauth2", "^1.0.9"))?.filter(o => typeof o != "string")?.join(`
#or
`)}
\`\`\`

### 2. Add environment variables

Create a \`.env\` file:

\`\`\`env
GITHUB_CLIENT_ID=your_client_id
GITHUB_CLIENT_SECRET=your_client_secret
\`\`\`

Make sure you register your OAuth app at:
> https://github.com/settings/developers

Use callback URL:  
\`http://localhost:3000/github/callback\`

---

## \u{1F9EA} Example Flow

### Step 1: Redirect to GitHub login

\`\`\`ts
app.get('/github', getGithubOAuthURL({
  authClient: client,
}), (ctx) => {
  return ctx.redirect(ctx.github.oauth_url);
});
\`\`\`

### Step 2: GitHub redirects back \u2192 create session

\`\`\`ts
app.get('/github/callback', verifyGithubToken({
  authClient: client,
  Callbacks: (ctx) => ({
    session: async (session, user) => {
      console.log("Session:", session);
      console.log("User:", user);
      return session;
    }
  }),
}), async (ctx) => {
  return ctx.json({ success: true });
});
\`\`\`

---

## \u{1F4C1} File Structure

\`\`\`
.
\u251C\u2500\u2500 .env
\u251C\u2500\u2500 server.ts
\`\`\`

---

## \u{1F4DA} References

- GitHub OAuth Docs: https://docs.github.com/en/developers/apps/building-oauth-apps
- TezX GitHub OAuth: https://www.npmjs.com/package/@tezx/github-oauth2

---

Login securely and build smarter auth with TezX! \u{1F680}
`.trim(), content: `
// 1. Initialize OAuth2 client
const client = GitHubOauthClient({
    clientId: process.env.GITHUB_CLIENT_ID,
    clientSecret: process.env.GITHUB_CLIENT_SECRET,
    redirectUri: 'http://localhost:3000/github/callback'
});

// Step 1: Redirect user to GitHub login
app.get('/github', getGithubOAuthURL({
    authClient: client,
}), (ctx) => {
    return ctx.redirect(ctx.github.oauth_url);
});

// Step 2: Verify GitHub token and handle user session
app.get('/github/callback', verifyGithubToken({
    authClient: client,
    Callbacks: (ctx) => {
        return {
            session: async (session, user) => {
                console.log('Session:', session);
                console.log('User:', user);
                return session;
            }
        };
    }
}), async (ctx) => {
    return ctx.json({ success: true });
});
  `.trim(), files: [{
    content: `GITHUB_CLIENT_ID=12323
GITHUB_CLIENT_SECRET=234234`, path: ".env"
  }], import: ["import { GitHubOauthClient, getGithubOAuthURL, verifyGithubToken } from '@tezx/github-oauth2';"], package: [d("@tezx/github-oauth2", "^1.0.9")]
}, G = {
  readme: `
# \u{1F510} Google OAuth2 Example for TezX

This example demonstrates how to use \`@tezx/google-oauth2\` to implement Google OAuth2 login in your TezX app.

---

## \u{1F680} Features

- Redirects users to Google Sign-In
- Verifies ID token and fetches user profile
- Allows role control via email domain or claims
- Persists session with custom user structure

---

## \u{1F527} Setup Instructions

### 1. Install Required Packages

Choose your package manager and install:

\`\`\`bash
${Object.values(d("@tezx/google-oauth2", "^1.0.13")).filter(o => typeof o != "string").join(`
# or
`)}

# Plus Google OAuth SDK
${Object.values(d("@googleapis/oauth2", "^2.0.1")).filter(o => typeof o != "string").join(`
# or
`)}
\`\`\`

---

### 2. Setup \`.env\`

\`\`\`env
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
\`\`\`

> Register your app here: https://console.cloud.google.com/apis/credentials  
> Redirect URI: \`http://localhost:3000/auth/callback\`

---

## \u{1F9EA} Example Route Flow

### \u{1F517} Step 1: Start Google OAuth

\`\`\`ts
app.get('/auth/google', getGoogleOAuthURL({
  authClient: client,
  scopes: ['openid', 'email', 'profile'],
}), (ctx) => {
  return ctx.redirect(ctx.google?.oauth_url);
});
\`\`\`

---

### \u2705 Step 2: Callback \u2014 Verify & Create Session

\`\`\`ts
app.get('/auth/callback', verifyGoogleToken({
  authClient: client,
  onError: (err) => {
    console.error('OAuth Error:', err);
  },
  onSuccess: (tokens) => {
    console.log('Tokens:', tokens);
  },
  Callbacks: (ctx) => ({
    signIn: async (user) => user.email.endsWith('@yourcompany.com'),
    jwt: async (token, user) => {
      token.role = user.email_verified ? 'member' : 'guest';
      return token;
    },
    session: async (session, user) => {
      session.user = {
        id: user.sub,
        email: user.email,
        name: user.name,
        picture: user.picture
      };
      return session;
    }
  })
}), async (ctx) => {
  return ctx.json({ success: true });
});
\`\`\`

---

## \u{1F4C1} File Structure

\`\`\`
.
\u251C\u2500\u2500 .env
\u2514\u2500\u2500 server.ts
\`\`\`

---

> \u{1F4A1} Note: TezX OAuth2 uses stateful sessions or JWTs depending on your setup. It supports advanced callback hooks for full control.

Secure your apps with Google the easy way \u{1F512}
`.trim(), content: `
// 1. Initialize OAuth2 client
const client = GoogleOauthClient({
  clientId: process.env.GOOGLE_CLIENT_ID,
  clientSecret: process.env.GOOGLE_CLIENT_SECRET,
  redirectUri: 'http://localhost:3000/auth/callback',
});

// 2. Route to start Google login
app.get('/auth/google', getGoogleOAuthURL({
  authClient: client,
  scopes: ['openid','email','profile'],
}), (ctx) => {
  return ctx.redirect(ctx.google?.oauth_url);
});

// 3. Callback route, verify token and establish session
app.get('/auth/callback', verifyGoogleToken({
  authClient: client,
  onError: (err) => {
    console.error('OAuth Error:', err);
  },
  onSuccess: (tokens) => {
    console.log('Tokens:', tokens);
  },
  Callbacks: (ctx)=> {
    return {
      signIn: async (user) => {
        return user.email.endsWith('@yourcompany.com');
      },
      jwt: async (token, user) => {
        token.role = user.email_verified ? 'member' : 'guest';
        return token;
      },
      session: async (session, user) => {
        session.user = {
          id: user.sub,
          email: user.email,
          name: user.name,
          picture: user.picture
        };
        return session;
      }
    }
  }
}), async (ctx) => {
  return ctx.json({ success: true });
});
`.trim(), files: [{
    content: `GOOGLE_CLIENT_ID=12323
GOOGLE_CLIENT_SECRET=234234
`, path: ".env"
  }], import: ['import { GoogleOauthClient, getGoogleOAuthURL, verifyGoogleToken } from "@tezx/google-oauth2";'], package: [d("@tezx/google-oauth2", "^1.0.13"), d("@googleapis/oauth2", "^2.0.1")]
}, R = {
  readme: `
# TezX View Engine Example

This example demonstrates how to use the \`@tezx/view-engine\` package to render server-side views using template engines such as **EJS**, **Pug**, **Handlebars**, **Mustache**, or **Nunjucks**.

---

## \u{1F680} How it works

The \`ViewEngine\` class handles:

- Compiling templates at runtime
- Injecting dynamic data into views
- Supporting multiple template engines with the same API

---

## \u{1F4C1} File structure

\`\`\`bash
.src
\u251C\u2500\u2500 views/
\u2502   \u2514\u2500\u2500 home.ejs
\u2514\u2500\u2500 index.ts
\`\`\`

---

## \u{1F9EA} Example Usage

\`\`\`ts
import { ViewEngine } from "@tezx/view-engine";

const views = new ViewEngine("ejs", "./views");

app.get("engine", async (ctx) => {
  const html = await views.render("home", {
    title: "TezX SSR Page",
    user: ctx.user || { name: "Guest" },
  });
  return ctx.html(html);
});
\`\`\`

---

## \u{1F4A1} Notes

- The \`ViewEngine\` class auto-caches template files unless disabled.
- You can switch engines by passing a different type like \`"pug"\`, \`"hbs"\`, etc.
- All rendering is asynchronous.

---

Happy TezX templating! \u{1F389}
`.trim(), content: `
const views = new ViewEngine("ejs", "./views");

app.get("engine", async (ctx) => {
    const html = await views.render("home", {
        title: "TezX SSR Page",
        user: ctx.user || { name: "Guest" },
    });
    return ctx.html(html);
});
  `.trim(), files: [{
    content: `
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title><%= title %></title>
  </head>
  <body>
    <h1>Welcome to TezX SSR!</h1>
    <p>Hello, <%= user.name %> \u{1F44B}</p>
  </body>
</html>
      `.trim(), path: "views/home.ejs"
  }], import: ['import { ViewEngine } from "@tezx/view-engine";'], package: [d("@tezx/view-engine", "^1.0.3"), d("ejs", "^3.1.10")]
}; let H = `
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>TezX WebSocket Demo</title>
        <style>
            * {
                box-sizing: border-box;
            }

            body {
                font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
                background: #f7f9fc;
                padding: 30px;
                color: #333;
            }

            h1 {
                text-align: center;
                color: #444;
                margin-bottom: 30px;
            }

            .container {
                max-width: 600px;
                margin: 0 auto;
                background: #fff;
                border-radius: 10px;
                box-shadow: 0 8px 20px rgba(0, 0, 0, 0.05);
                padding: 20px;
            }

            #messages {
                border: 1px solid #ddd;
                border-radius: 6px;
                padding: 12px;
                height: 250px;
                overflow-y: auto;
                background-color: #fafafa;
                font-size: 14px;
                margin-bottom: 15px;
            }

            #input {
                width: 100%;
                padding: 10px;
                border: 1px solid #ccc;
                border-radius: 6px;
                font-size: 14px;
                margin-bottom: 10px;
            }

            .buttons {
                display: flex;
                gap: 10px;
                justify-content: flex-end;
            }

            button {
                padding: 8px 16px;
                font-size: 14px;
                border: none;
                border-radius: 6px;
                cursor: pointer;
                transition: all 0.2s ease;
            }

            button:hover {
                opacity: 0.9;
            }

            button:active {
                transform: scale(0.97);
            }

            .send-btn {
                background-color: #4caf50;
                color: white;
            }

            .ping-btn {
                background-color: #2196f3;
                color: white;
            }

            .message {
                margin-bottom: 8px;
                padding: 6px 10px;
                border-radius: 4px;
            }

            .message.client {
                background: #e8f5e9;
                color: #2e7d32;
            }

            .message.server {
                background: #e3f2fd;
                color: #1565c0;
            }

            .message.system {
                background: #fff3e0;
                color: #ef6c00;
                font-style: italic;
            }
        </style>
    </head>
    <body>
        <h1>TezX WebSocket Demo</h1>
        <div class="container">
            <div id="messages"></div>
            <input id="input" type="text" placeholder="Type a message..." />
            <div class="buttons">
                <button class="send-btn" onclick="sendMessage()">Send</button>
                <button class="ping-btn" onclick="sendPing()">Ping</button>
            </div>
        </div>

        <script>
            const ws = new WebSocket(\`ws://\${location.host}/ws\`);
            const messages = document.getElementById("messages");
            const input = document.getElementById("input");

            ws.onopen = () => {
                appendMessage("Connected to WebSocket server", "system");
            };

            ws.onmessage = (event) => {
                appendMessage(\`Server: \${event.data}\`, "server");
            };

            ws.onclose = () => {
                appendMessage("Disconnected from WebSocket server", "system");
            };

            ws.onerror = (error) => {
                appendMessage(\`Error: \${error}\`, "system");
            };

            function appendMessage(message, type = "client") {
                const div = document.createElement("div");
                div.textContent = message;
                div.className = \`message \${type}\`;
                messages.appendChild(div);
                messages.scrollTop = messages.scrollHeight;
            }

            function sendMessage() {
                const message = input.value;
                if (message && ws.readyState === WebSocket.OPEN) {
                    ws.send(message);
                    appendMessage(\`Client: \${message}\`, "client");
                    input.value = "";
                }
            }

            function sendPing() {
                if (ws.readyState === WebSocket.OPEN) {
                    ws.send("ping");
                    appendMessage("Client: ping", "client");
                }
            }
        <\/script>
    </body>
</html>
`; const W = {
  readme: `
# \u{1F50C} TezX WebSocket Example

This example demonstrates how to set up a WebSocket server using \`upgradeWebSocket\` from \`tezx/ws\`.

---

## \u{1F680} Features

- Upgrade HTTP requests to WebSocket connections
- Handle events: \`open\`, \`message\`, and \`close\`
- Respond to \`ping\` with \`pong\`
- Echo received messages back to the client
- Works with Node.js and Bun

---

## \u{1F527} Setup

### 1. Install required package (if needed)

TezX WebSocket support is built-in with \`tezx/ws\`. If your setup doesn't include it:

\`\`\`bash
npm install tezx
# or
bun add tezx
\`\`\`

---

### 2. How it works

- Connect to \`/ws\` via a browser or WebSocket client
- On connect: sends a welcome message
- On message: replies with either \`pong\` or echoes back the message
- Logs disconnection reason

---

## \u{1F9EA} Client Test File

A simple HTML file is included in \`public/ws.html\`:

\`\`\`html
<script>
  const ws = new WebSocket("ws://localhost:3000/ws");

  ws.onopen = () => {
    console.log("Connected to WebSocket!");
    ws.send("ping");
  };

  ws.onmessage = (event) => {
    console.log("Message:", event.data);
  };

  ws.onclose = () => {
    console.log("Disconnected.");
  };
<\/script>
\`\`\`

---

## \u{1F4C1} File Structure

\`\`\`
.
\u251C\u2500\u2500 public/
\u2502   \u2514\u2500\u2500 ws.html
\u2514\u2500\u2500 src
    \u2514\u2500\u2500 index.ts
\`\`\`

---

Enjoy real-time power with TezX! \u26A1\uFE0F
`.trim(), content: `
const socket = [];

app.get(
  "/ws",
  upgradeWebSocket(
    (ctx) => {
      return {
        // \u2705 Node.js-compatible WebSocket handler
        open: (ws) => {
          socket.push(ws);
          console.log("WebSocket connected");
          ws.send("\u{1F44B} Welcome to TezX WebSocket!");
        },
        message: (ws, msg) => {
          if (typeof msg === "string" && msg === "ping") {
            ws.send("pong \u{1F3D3}");
          } else if (msg !== undefined) {
            ws.send("Echo: " + msg);
          }
        },
        close: (ws, data) => {
          console.log(\`WebSocket closed: \${data?.reason ?? "No reason provided"}\`);
        },
      };
    },
    {
      maxPayload: 2 * 1024 * 1024, // 2MB
      perMessageDeflate: {
        threshold: 1024, // Compress messages > 1KB
      },
    },
  ),
  (ctx) => {
    return ctx.sendFile("public/ws.html");
  },
);
`.trim(), files: [{ content: H, path: "public/ws.html" }], import: ['import { upgradeWebSocket } from "tezx/ws";']
}; let C = { minimal: { readme: "", content: "", files: [], import: [], package: [] }, ws: W, "github-oauth2": I, "google-oauth2": G, "view-engine": R }; async function _(o, s, t) {
  return new Promise(a => {
    let n = 0; T.emitKeypressEvents(process.stdin, o), process.stdin.isTTY && process.stdin.setRawMode(!0); const u = c(() => {
      process.stdout.write("\x1B[2J\x1B[0f"), console.log(s + ` (Use \u2191 \u2193 arrows, Enter to confirm)
`), t.forEach((l, r) => { console.log(`${r === n ? "\u{1F449}" : "  "} ${r === n ? "\x1B[36m" : "\x1B[0m"}${l}\x1B[0m`) })
    }, "render"), i = c((l, r) => { if (r.name === "up") n = (n - 1 + t.length) % t.length, u(); else if (r.name === "down") n = (n + 1) % t.length, u(); else if (r.name === "return") return a(t[n]) }, "onKeyPress"); u(), process.stdin.on("keypress", i)
  })
} c(_, "arrowSelect"); const $ = { reset: "\x1B[0m", bold: "\x1B[1m", underline: "\x1B[4m", gray: "\x1B[90m", white: "\x1B[97m", black: "\x1B[30m", red: "\x1B[31m", green: "\x1B[32m", yellow: "\x1B[33m", blue: "\x1B[34m", magenta: "\x1B[35m", cyan: "\x1B[36m", bgRed: "\x1B[41m", bgGreen: "\x1B[42m", bgYellow: "\x1B[43m", bgBlue: "\x1B[44m", bgMagenta: "\x1B[45m", bgCyan: "\x1B[46m", bgWhite: "\x1B[47m", orange: "\x1B[38;2;255;88;30m", bgOrange: "\x1B[48;2;255;88;30m" }; function e(o, s) { return `${$[s]}${o}${$.reset}` } c(e, "colorText"); const F = "4.0.1"; let D = `
# \u26A1 TezX \u2013 High-Performance JavaScript Framework for **Bun**

**TezX** is a modern, ultra-fast, and lightweight JavaScript framework built specifically for **Bun**.
With a clean API, powerful routing, WebSocket support, middleware stacking, and native static file serving \u2014 TezX helps you build scalable applications with unmatched speed.

[![Ask DeepWiki](https://deepwiki.com/badge.svg)](https://deepwiki.com/tezxjs/TezX)

---

## \u{1F680} Why TezX (Built for Bun)?

* \u26A1 **Blazing Fast** \u2014 Fully optimized for Bun\u2019s event loop & native performance.
* \u{1F9E9} **Minimal, Clean API** \u2014 Developer-friendly and intuitive.
* \u{1F5C2} **Native Static Serving** \u2014 No external dependencies needed.
* \u{1F50C} **Powerful Middleware Engine** \u2014 Compose any logic effortlessly.
* \u{1F9ED} **Advanced Routing** \u2014 Dynamic, nested, and pattern-based.
* \u{1F510} **Secure by Default** \u2014 Built-in safe context handling.
* \u{1F4E1} **WebSocket Support** \u2014 Real-time apps made easy with \`wsHandlers\`.
* \u267B\uFE0F **Multi-Process Ready** \u2014 Via Bun\u2019s \`reusePort\`.

---

## \u{1F4E6} Installation

\`\`\`bash
bun add tezx
# or
npm install tezx
\`\`\`

---

## \u26A1 Quick Start (Bun)

\`\`\`ts
import { TezX } from "tezx";
import { logger } from "tezx/middleware";
import { serveStatic } from "tezx/static";
import { wsHandlers } from "tezx/ws";

const app = new TezX();

// Middlewares
app.use(logger());

// Static files
app.static(serveStatic("/", "./static"));

// Route
app.get("/", (ctx) =>
  ctx.html(\`
    <h1>Welcome to TezX</h1>
    <p>High-performance JavaScript framework optimized for Bun.</p>
\`)
);

// Server
const port = Number(process.env.PORT) || 3001;

Bun.serve({
  port,
  reusePort: true,
  fetch(req, server) {
    return app.serve(req, server);
  },
  websocket: wsHandlers({
    // Optional WebSocket config
  }),
});

console.log(\`\u{1F680} TezX server running at http://localhost:\${port}\`);
\`\`\`

---

## \u25B6 Run the Server

\`\`\`bash
bun run server.ts
  \`\`\`

---

## \u{1F50C} Middleware Example

\`\`\`ts
app.use((ctx, next) => {
  console.log("\u27A1 Request:", ctx.req.url);
  return next();
});
\`\`\`

---

## \u{1F5C2} Static File Serving

\`\`\`ts
import { serveStatic } from "tezx/static";

app.static(serveStatic("/assets", "./assets"));
\`\`\`

Access via:

\`\`\`bash
http://localhost:3001/assets/your-file.ext
\`\`\`

---

## \u{1F9ED} Routing

\`\`\`ts
app.get("/about", (ctx) => ctx.html("<h1>About TezX</h1>"));

app.post("/contact", async (ctx) => {
  const body = await ctx.json();
  return ctx.json({ received: body });
});
\`\`\`

---

## \u26A0\uFE0F Error Handling

\`\`\`ts
app.onError((err, ctx) => {
  return ctx.status(500).json({
    error: "Internal Server Error",
    message: err.message,
  });
});
\`\`\`

---

## \u{1F9EA} Development Setup

### \`dev\` script for Bun

**package.json**

\`\`\`json
{
  "scripts": {
    "dev": "bun run --hot --watch src/index.ts"
  }
}
\`\`\`

### Example: \`src / index.ts\`

\`\`\`ts
import app from "./app";

Bun.serve({
  port: 3001,
  reusePort: true,
  fetch(req, server) {
    return app.serve(req, server);
  },
});
\`\`\`

---

## \u{1F91D} Contributing

We welcome contributions!

1. Fork the repo
2. Create a new branch
3. Commit your changes
4. Open a pull request

\u{1F449} GitHub: **[https://github.com/tezxjs](https://github.com/tezxjs)**

---

## \u{1F496} Support TezX

If TezX helps you, consider supporting:

* \u2B50 Star on GitHub
* \u{1F4B8} Sponsor on GitHub: [https://github.com/sponsors/srakib17](https://github.com/sponsors/srakib17)

Your support helps improve the framework.

---

`, P = c(({ ts: o, template: s, root: t, useStatic: a = !1, staticFolder: n }) => {
  const u = g(t, o ? "src/index.ts" : "src/index.js"); v(g(t, "src"), { recursive: !0 }); let i = ""; s?.import?.push('import { wsHandlers } from "tezx/ws";'), i = `
let PORT = Number(process.env.PORT) || 3000;
Bun.serve({
  port: PORT,
  reusePort: true, // Enables multi-process clustering
  fetch(req, server) {
    return app.serve(req, server); // Handle requests via TezX
  },
  websocket: wsHandlers({
    // Optional WebSocket configure
  })
});
console.log(\`\u{1F680} TezX is running at http://localhost:\${PORT}\`);
    `; let l = `
import { TezX } from "tezx";
import { serveStatic } from "tezx/static";
import { logger } from "tezx/middleware";
${s?.import?.join(`
`)}
const app = new TezX({
    debugMode: true,
    // Additional options
});
app.use([logger()]);

app.get("/", (ctx) => ctx.text("Hello from TezX"));

${a ? `app.static(serveStatic("${n || "public"}"));` : ""}
${s?.content ? `
${s?.content?.trim()}
`: ""}
${i}
`; if (o) {
    const r = `
{
  "compilerOptions": {
    "module": "esnext",
    "target": "esnext",
    "moduleResolution": "bundler",
    "strict": true,
    "skipLibCheck": true,
    "allowImportingTsExtensions": true,
    "noEmit": true
  },
  "include": ["src"],
  "exclude": ["node_modules", "dist"]
}
    `.trim(); h(g(t, "tsconfig.json"), r)
  } h(u, l.trim())
}, "index"), X = c(({ template: o, root: s, projectName: t, ts: a, useWS: n, choiceStep: u }) => {
  let i = []; Array.isArray(o?.package) && o?.package?.forEach(b => { let { version: x, npm: m } = b || {}; i.push(`"${m?.[1]}": "${x}"`) }); let l = ['"@types/bun": "^1.3.1"']; a && (l.push('"typescript": "^5.8.2"'), l.push('"@types/node": "^22.13.14"')); let r = `
{
  "name": "${t || "tezx-app-example"}",
  "version": "1.0.0",
  "type": "module",
  "description": "TezX is a high-performance, lightweight JavaScript framework designed for speed, scalability, and flexibility. It enables efficient routing, middleware management, and static file serving with minimal configuration.",
  "scripts": {
    "start": "bun src/index${a ? ".ts" : ".js"}",
    "dev": "bun --hot --watch src/index${a ? ".ts" : ".js"}",
    "type-check": ${a ? '"tsc --noEmit"' : `"echo 'No TypeScript configured'"`}
  },
  "repository": {
    "type": "git",
    "url": "git+https://github.com/tezxjs/tezx-app-example"
  },
  "keywords": [],
  "author": "",
  "license": "ISC",
  "bugs": {
    "url": "https://github.com/tezxjs/tezx-app-example"
  },
  "homepage": "https://github.com/tezxjs/tezx-app-example",
  "dependencies": {
    "tezx": "^${F}"${i.length ? `,
    ${i.join(`,
    `)}` : ""}
  },
  "devDependencies": {
    ${l.join(`,
    `)}
  }
}
`.trim(); h(g(s, "package.json"), r)
}, "packageJson"); const N = c(({ root: o }) => {
  const s = `
# Node dependencies
node_modules/
.env
.env.local
.env.*.local

# Diagnostic reports (https://nodejs.org/api/report.html)
report.[0-9]*.[0-9]*.[0-9]*.[0-9]*.json

# Logs
logs
*.log
npm-debug.log*
yarn-debug.log*
yarn-error.log*
lerna-debug.log*
.pnpm-debug.log*


# Runtime data
pids
*.pid
*.seed
*.pid.lock

# Directory for instrumented libs generated by jscoverage/JSCover
lib-cov

# Dependency directories
node_modules/
package/example-ts/node_modules/
package/example-commonjs/node_modules/
package/example-js-module/node_modules/
package-lock.json
bun.lock

# Stores VSCode versions used for testing VSCode extensions
.vscode-test

# yarn v2
.yarn/cache
.yarn/unplugged
.yarn/build-state.yml
.yarn/install-state.gz
.pnp.*


# Build outputs
dist/
build/
.cache/
.tezx/
out/

# System files
.DS_Store
Thumbs.db


# Output of 'npm pack'
*.tgz

# Yarn Integrity file
.yarn-integrity

# Editor settings
.vscode/
.idea/
*.swp
  `.trim(); h(g(o, ".gitignore"), s, { encoding: "utf8" })
}, "gitignore"), L = c(({ root: o, readme: s }) => { const t = typeof s == "string" && s ? s?.trim() : D.trim(); h(g(o, "README.md"), t, { encoding: "utf8" }) }, "README"); let S = ["npm", "bun", "yarn", "pnpm"]; function M(o) {
  let s = 0; const t = ["\u280B", "\u2819", "\u2839", "\u2838", "\u283C", "\u2834", "\u2826", "\u2827", "\u2807", "\u280F"], a = setInterval(() => { process.stdout.write(`\r${t[s = ++s % t.length]} ${o}`) }, 80); return () => {
    clearInterval(a), process.stdout.write(`\r\u2705 Done!                             
`)
  }
} c(M, "startLoader"); const E = T.createInterface({ input: process.stdin, output: process.stdout }); T.emitKeypressEvents(process.stdin), process.stdin.isTTY && process.stdin.setRawMode(!0); const y = c((o, s = "") => new Promise(t => { E.question(s ? `${o} (${s}): ` : o, a => { t(a.trim() || s) }) }), "ask"); async function U(o) {
  let s = o?.directory, t = o?.options; console.log(e(`
\u26A1 TezX App Creator(v${F})`, "orange")), s || (s = await y(e("\u{1F4E6} Project name: ", "magenta")), s || (console.log(e("\u274C Project name required.", "red")), process.exit(0))); let a = k.basename(s); const n = A(process.cwd(), s); let u = !!t?.ts, i = t?.staticFolder || "public", l = !0, r = { content: "", import: [], readme: "", files: [] }; if (t?.t || t?.template) { const p = t.t || t.template, w = C?.[p]; w || (console.error(`\u274C Unknown template: "${p}"`), console.error(`\u2139\uFE0F Available templates: ${Object.keys(C).join(", ")}`), process.exit(0)), r = w } else u = !!(t?.ts || (await y("\u{1F7E6} Use TypeScript? (y/N): ")).toLowerCase() === "y"), l = !!t?.useStatic || (await y("\u{1F4C1} Use static folder? (y/N): ")).toLowerCase() === "y", i = l ? t?.staticFolder || await y("\u{1F4C2} Static folder name? (default: public): ") : ""; let b = t?.pm || t?.p; const x = S?.includes(b) ? b : await _(E, "\u{1F4E6} Choose your package manager", S), m = t?.i === "true" || t?.install === "true" || (await y("\u{1F4E5} Install dependencies now? (y/N): ")).toLowerCase() === "y"; console.log(`
\u{1F4C1} Creating project: ${a}...
`); let B = M("Creating Project"); if (v(n, { recursive: !0 }), l) { const p = g(n, i || "public"); v(p, { recursive: !0 }) } let f = { bun: { cd: "cd " + s, install: "bun install", dev: "bun dev", build: "bun build:esm && bun build:dts" }, npm: { cd: "cd " + s, install: "npm install", dev: "npm run dev", build: "npm run build:esm && npm run build:dts" }, yarn: { cd: "cd " + s, install: "yarn", dev: "yarn dev", build: "yarn build:esm && yarn build:dts" }, pnpm: { cd: "cd " + s, install: "pnpm install", dev: "pnpm run dev", build: "pnpm run build:esm && pnpm run build:dts" } }[x]; P({ template: r, root: n, ts: !!u, staticFolder: i, useStatic: l }), X({ projectName: a, root: n, ts: !!u, template: r, choiceStep: f }), N({ root: n }), L({ root: n, readme: r?.readme }), E.close(), r?.files?.forEach(p => { let w = k.join(n, k.dirname(p?.path)); v(w, { recursive: !0 }), h(k.join(n, p?.path), p?.content) }), m && j(f?.install, { cwd: n, stdio: "inherit" }), console.log(e(`
\u2705 TezX project "${a}" is ready!
`, "green")), console.log(e("\u{1F9F0} Summary of your configuration:", "cyan")), console.log(`\u{1F4C1} Project Name: ${e(a, "yellow")}`); let z = t?.t || t?.template; z && console.log(`\u{1F4C1} Template Name: ${e(z, "orange")}`), console.log(`\u{1F7E6} TypeScript: ${e(u ? "Yes" : "No", u ? "green" : "gray")}`), console.log(`\u{1F4C1} Static Folder: ${e(l ? i || "public" : "Not Used", l ? "green" : "gray")}`), console.log(`\u{1F4E6} Package Manager: ${e(x, "magenta")}`), console.log(`\u{1F4E5} Dependencies Installed: ${e(m ? "Yes" : "No", m ? "green" : "red")}
`), console.log(e("\u{1F449} Next Steps:", "cyan")), console.log(e(`   ${f?.cd}`, "white")), m || console.log(e(`   ${f?.install}`, "white")), console.log(e(`   ${f?.dev}`, "white")), console.log(""), B(), process.exit(0)
} c(U, "create"); function q() {
  console.log(`
        ${e("\u256D\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256E", "gray")}
        ${e("\u2502", "gray")}${e("   \u26A1 Create TezX", "yellow")} - Scaffold your next backend app     ${e("\u2502", "gray")}
        ${e("\u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256F", "gray")}
        
        ${e("\u{1F4E6} Usage:", "cyan")} 
         ${e("create-tezx", "green")} ${e("[directory] [...options]", "gray")}
        
        ${e("\u{1F680} Quick Start:", "cyan")}
          ${e("npm", "magenta")} create tezx@latest
          ${e("yarn", "magenta")} create tezx
          ${e("pnpm", "magenta")} create tezx@latest
          ${e("bun", "magenta")} create tezx@latest
        
        ${e("\u{1F39B}\uFE0F  Options:", "cyan")}
        
          ${e("-t, --template <name>", "green")}    Use a specific starter template
          ${e("--ts, -ts", "green")}                Enable TypeScript setup
          ${e("-p, --pm <manager>", "green")}       Package manager: npm | bun | yarn | pnpm
          ${e("-i, --install", "green")}            Automatically install dependencies
          ${e("-y, --yes", "green")}                Skip prompts using default options
          ${e("-v, --version", "green")}            Show CLI version
          ${e("-h, --help", "green")}               Display this help message
        
        ${e("\u{1F9F0} Examples:", "cyan")}
          ${e("npm create tezx@latest my-app --template ws --ts", "gray")}
          ${e("bun create tezx@latest -- --install --pm bun", "gray")}
        
        ${e("\u{1F4C1} Available Templates:", "cyan")}
          ${e("minimal", "yellow")}         Minimal TypeScript setup
          ${e("ws", "yellow")}              Built-in WebSocket server
          ${e("google-oauth2", "yellow")}   Google OAuth2 Authentication
          ${e("github-oauth2", "yellow")}   GitHub OAuth2 Authentication
        
        ${e("\u{1F517} Repository:", "cyan")}
          ${e("https://github.com/tezxjs/tezx", "underline")}
        
        ${e("\u{1F9D1}\u200D\u{1F4BB} Author:", "cyan")}
          Rakibul Islam ${e("<https://github.com/srakib17>", "blue")}`), process.exit(0)
} c(q, "showHelp"); function V() { console.log(`TezX CLI v${F}`), process.exit(0) } c(V, "showVersion"), (async () => { const o = c((u, i) => { i.name === "c" && i.ctrl && (process.stdin.off("keypress", o), process.stdin.isTTY && process.stdin.setRawMode(!1), process.exit(0)) }, "onKeyPress"); process.stdin.on("keypress", o); const s = process.argv.slice(2); let t = {}, a; for (let u = 0; u < s.length; u++) { const i = s[u]; if (i.startsWith("--")) { const l = i.slice(2), r = s[u + 1]; r && !r.startsWith("-") ? (t[l] = r, u++) : t[l] = "true" } else if (i.startsWith("-")) { const l = i.slice(1), r = s[u + 1]; r && !r.startsWith("-") ? (t[l] = r, u++) : t[l] = "true" } else a || (a = i) } let n = { directory: a, options: t }; if ((t.y === "true" || t.yes === "true") && (n.options.ts = "true", n.options.useStatic = "true", n.options.staticFolder = "public", n.options.pm = S?.includes(n.options?.p || n?.options?.pm) ? n.options?.p || n?.options?.pm : "npm", n.options.p = S?.includes(n.options?.p || n?.options?.pm) ? n.options?.p || n?.options?.pm : "npm", n.options.install = "true"), t.help || t.h) { q(); return } if (t.v || t.version) { V(); return } U(n) })();
